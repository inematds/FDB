<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>FDB â€” ExercÃ­cios</title>
  <meta name="description" content="ExercÃ­cios prÃ¡ticos por nÃ­vel: Iniciante, TÃ©cnico e AvanÃ§ado, com foco em porquÃª e como fazer."/>
  <link rel="stylesheet" href="assets/styles.css"/>
</head>
<body>
  <header>
    <nav class="nav">
      <div class="brand"><a href="index.html">FDB</a></div>
      <div class="menu">
        <a href="index.html">InÃ­cio</a>
        <a href="iniciante.html">Iniciante</a>
        <a href="tecnico.html">TÃ©cnico</a>
        <a href="avancado.html">AvanÃ§ado</a>
        <a href="ia.html">IA</a>
        <a href="comparativos.html">Comparativos</a>
        <a href="gerencia-informacoes.html">GerÃªncia</a>
        <a class="active" href="exercicios.html">ExercÃ­cios</a>
      </div>
    </nav>
  </header>
  <main>
    <div class="card-head"><span class="icon" aria-hidden="true">ðŸ§ª</span><h1>ExercÃ­cios</h1></div>
    <p class="muted">Pratique com tarefas curtas. Sempre explicando o porquÃª e o como fazer.</p>

    <section class="section">
      <h2>Iniciante</h2>
      <div class="card">
        <ol>
          <li>Modele uma tabela <code>cliente</code> com PK, nome e email Ãºnico. Por quÃª: integridade. Como: PK (id) e UNIQUE (email).</li>
          <li>Insira 3 clientes e consulte apenas os que tÃªm email. Por quÃª: filtragem. Como: <code>WHERE email IS NOT NULL</code>.</li>
          <li>Crie a tabela <code>pedido</code> com FK para <code>cliente</code>. Por quÃª: relaÃ§Ã£o. Como: <code>FOREIGN KEY</code>.</li>
        </ol>
      </div>
      <pre><code>CREATE TABLE cliente (
  id SERIAL PRIMARY KEY,
  nome TEXT NOT NULL,
  email TEXT UNIQUE
);

CREATE TABLE pedido (
  id SERIAL PRIMARY KEY,
  cliente_id INT REFERENCES cliente(id),
  total NUMERIC(10,2) NOT NULL
);
      </code></pre>
    </section>

    <section class="section">
      <h2>TÃ©cnico</h2>
      <div class="card">
        <ol>
          <li>Crie Ã­ndice em <code>pedido(cliente_id)</code> e compare EXPLAIN antes/depois. Por quÃª: acelerar JOIN/filtro. Como: <code>CREATE INDEX</code>.</li>
          <li>Implemente transaÃ§Ã£o de transferÃªncia entre contas com rollback em caso de erro. Por quÃª: atomicidade. Como: <code>BEGIN/COMMIT/ROLLBACK</code>.</li>
          <li>Projete consulta com agregaÃ§Ã£o (total por cliente) e ordene. Por quÃª: relatÃ³rios. Como: <code>GROUP BY</code>.</li>
        </ol>
      </div>
      <pre><code>CREATE INDEX idx_pedido_cliente ON pedido (cliente_id);
EXPLAIN ANALYZE SELECT * FROM pedido WHERE cliente_id = 1;

-- AgregaÃ§Ã£o
SELECT c.nome, SUM(p.total) AS total
FROM cliente c JOIN pedido p ON p.cliente_id = c.id
GROUP BY c.nome
ORDER BY total DESC;
      </code></pre>
    </section>

    <section class="section">
      <h2>AvanÃ§ado</h2>
      <div class="card">
        <ol>
          <li>Particione <code>pedido</code> por faixa de data. Por quÃª: manutenÃ§Ã£o/performance. Como: tabelas particionadas.</li>
          <li>Implemente um miniâ€‘ETL: exporte <code>pedido</code> diÃ¡rio e gere resumo (OLAP) em tabela colunar/sumarizada. Por quÃª: separar OLTP/OLAP. Como: job diÃ¡rio + tabela agregada.</li>
          <li>Elabore polÃ­tica de retenÃ§Ã£o (ex.: 18 meses). Por quÃª: custo/lei. Como: <code>DELETE/ARCHIVE</code> programado.</li>
        </ol>
      </div>
      <p class="muted">Dica: use o arquivo <code>docs/dados.txt</code> como fonte simples para popular tabelas em seus testes.</p>
    </section>
  </main>
  <footer>
    <p class="muted">FDB â€” ExercÃ­cios por nÃ­vel â€¢ Contato: <a href="mailto:inematds@gmail.com">inematds@gmail.com</a></p>
  </footer>
</body>
</html>
